{"ast":null,"code":"import _slicedToArray from\"/Users/matthieu/Desktop/Projets/React/Crypto Watcher/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{AreaChart,XAxis,YAxis,CartesianGrid,Tooltip,Area}from\"recharts\";import colors from\"../styles/_settings.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CoinChart=function CoinChart(_ref){var coinId=_ref.coinId,coinName=_ref.coinName;var _useState=useState(),_useState2=_slicedToArray(_useState,2),coinData=_useState2[0],setCoinData=_useState2[1];var _useState3=useState(30),_useState4=_slicedToArray(_useState3,2),duration=_useState4[0],setDuration=_useState4[1];var headerData=[[1,\"1 jour\"],[3,\"3 jours\"],[7,\"7 jours\"],[30,\"1 mois\"],[91,\"3 mois\"],[181,\"6 mois\"],[365,\"1 an\"],[3000,\"Max\"]];useEffect(function(){var dataArray=[];axios.get(\"https://api.coingecko.com/api/v3/coins/\".concat(coinId,\"/market_chart?vs_currency=usd&days=\").concat(duration).concat(duration>32?\"&interval=daily\":\"\")).then(function(res){for(var i=0;i<res.data.prices.length;i++){var price=res.data.prices[i][1];dataArray.push({date:new Date(res.data.prices[i][0]).toLocaleDateString(),price:price<\"50\"?price:parseInt(price)});}setCoinData(dataArray);});},[coinId,duration]);return/*#__PURE__*/_jsxs(\"div\",{className:\"coin-chart\",children:[/*#__PURE__*/_jsx(\"p\",{children:coinName}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-container\",children:headerData.map(function(radio){return/*#__PURE__*/_jsx(\"div\",{htmlFor:\"btn\"+radio[0],onClick:function onClick(){return setDuration(radio[0]);},className:radio[0]===duration?\"active-btn\":\"\",children:radio[1]},radio[0]);})}),/*#__PURE__*/_jsxs(AreaChart,{width:680,height:250,data:coinData,margin:{top:10,right:0,left:100,bottom:0},children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorUv\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"7%\",stopColor:colors.color1,stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"93%\",stopColor:colors.white1,stopOpacity:0})]})}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{domain:[\"auto\",\"auto\"]}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"price\",stroke:colors.color1,fillOpacity:1,fill:\"url(#colorUv)\"})]})]});};export default CoinChart;","map":{"version":3,"sources":["/Users/matthieu/Desktop/Projets/React/Crypto Watcher/src/components/CoinChart.js"],"names":["React","useEffect","useState","axios","AreaChart","XAxis","YAxis","CartesianGrid","Tooltip","Area","colors","CoinChart","coinId","coinName","coinData","setCoinData","duration","setDuration","headerData","dataArray","get","then","res","i","data","prices","length","price","push","date","Date","toLocaleDateString","parseInt","map","radio","top","right","left","bottom","color1","white1"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport {\n  AreaChart,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Area,\n} from \"recharts\";\nimport colors from \"../styles/_settings.scss\";\n\nconst CoinChart = ({ coinId, coinName }) => {\n  const [coinData, setCoinData] = useState();\n  const [duration, setDuration] = useState(30);\n  const headerData = [\n    [1, \"1 jour\"],\n    [3, \"3 jours\"],\n    [7, \"7 jours\"],\n    [30, \"1 mois\"],\n    [91, \"3 mois\"],\n    [181, \"6 mois\"],\n    [365, \"1 an\"],\n    [3000, \"Max\"],\n  ];\n\n  useEffect(() => {\n    let dataArray = [];\n\n    axios\n      .get(\n        `https://api.coingecko.com/api/v3/coins/${coinId}/market_chart?vs_currency=usd&days=${duration}${\n          duration > 32 ? \"&interval=daily\" : \"\"\n        }`\n      )\n      .then((res) => {\n        for (let i = 0; i < res.data.prices.length; i++) {\n          let price = res.data.prices[i][1];\n\n          dataArray.push({\n            date: new Date(res.data.prices[i][0]).toLocaleDateString(),\n            price: price < \"50\" ? price : parseInt(price),\n          });\n        }\n        setCoinData(dataArray);\n      });\n  }, [coinId, duration]);\n\n  return (\n    <div className=\"coin-chart\">\n      <p>{coinName}</p>\n      <div className=\"btn-container\">\n        {headerData.map((radio) => {\n          return (\n            <div\n              htmlFor={\"btn\" + radio[0]}\n              onClick={() => setDuration(radio[0])}\n              key={radio[0]}\n              className={radio[0] === duration ? \"active-btn\" : \"\"}\n            >\n              {radio[1]}\n            </div>\n          );\n        })}\n      </div>\n      <AreaChart\n        width={680}\n        height={250}\n        data={coinData}\n        margin={{ top: 10, right: 0, left: 100, bottom: 0 }}\n      >\n        <defs>\n          <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n            <stop offset=\"7%\" stopColor={colors.color1} stopOpacity={0.8} />\n            <stop offset=\"93%\" stopColor={colors.white1} stopOpacity={0} />\n          </linearGradient>\n        </defs>\n        <XAxis dataKey=\"date\" />\n        <YAxis domain={[\"auto\", \"auto\"]} />\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <Tooltip />\n        <Area\n          type=\"monotone\"\n          dataKey=\"price\"\n          stroke={colors.color1}\n          fillOpacity={1}\n          fill=\"url(#colorUv)\"\n        />\n      </AreaChart>\n    </div>\n  );\n};\n\nexport default CoinChart;\n"]},"metadata":{},"sourceType":"module"}